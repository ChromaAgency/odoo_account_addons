<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="account_payment_condition_view_form" model="ir.ui.view">
    <field name="name">account.payment.condition.view.form</field>
    <field name="model">account.payment.condition</field>
    <field name="arch" type="xml">
      <form string="Condiciones de pago">
        <sheet>
          <group>
            <field name="name" />
            <field name="payment_terms_ids" />
            <field name="payment_acquirer_ids" />
          </group>
        </sheet>
      </form>
    </field>
  </record>
  <record id="view_move_form_inherit_account_payment_conditions" model="ir.ui.view">
    <field name="name">account.move.view.form.inherit</field>
    <field name="model">account.move</field>
    <field name="inherit_id" ref="account.view_move_form"/>
    <field name="arch" type="xml">
      <label for="journal_id"  position="before" >
        <field name="payment_acquirer_id" />
        <field name="payment_condition_id" />
      </label>
    </field>
  </record>
  <record id="view_partner_form_inherit_account_payment_conditions" model="ir.ui.view">
    <field name="name">res.partner.view.form.inherit</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form" />
    <field name="arch" type="xml">
      <field name="property_payment_term_id" position="before">
        <field name="payment_condition_id" />
        <field name="possible_payment_terms" invisible="1" />
        <field name="is_payment_term_id_visible" invisible="1" />
        <field name="possible_payment_acquirers" invisible="1" />
        <field name="is_payment_acquirer_id_visible" invisible="1" />
      </field>
      <field name="property_payment_term_id" position="after">
        <field name="payment_acquirer_id" domain="[('id','in',possible_payment_acquirers)]" widget="selection" options="{'no_create_edit':True}" invisible="is_payment_acquirer_id_visible == False"/>
      </field>
      <field name="property_payment_term_id" position="attributes">
        <attribute name="domain">[('id','in',possible_payment_terms)]</attribute>
        <attribute name="invisible">is_payment_term_id_visible == False</attribute>
        <attribute name="required">is_payment_term_id_visible == True</attribute>
      </field>
    </field>
  </record>
  <record id="view_order_form_inherit_account_payment_condition" model="ir.ui.view">
    <field name="name">sale.order.view.form.inherit</field>
    <field name="model">sale.order</field>
    <field name="inherit_id" ref="sale.view_order_form"/>
    <field name="arch" type="xml">
      <field name="payment_term_id" position="before">
        <field name="payment_condition_id" required="True" readonly="state in ['done']"/>
        <field name="possible_payment_terms" invisible="1" />
        <field name="is_payment_term_id_visible" invisible="1" />
        <field name="possible_payment_acquirers" invisible="1" />
        <field name="is_payment_acquirer_id_visible" invisible="1" />
      </field>
      <field name="payment_term_id" position="after">
        <field name="payment_acquirer_id" domain="[('id', 'in', possible_payment_acquirers)]" invisible="is_payment_acquirer_id_visible == False" required="is_payment_acquirer_id_visible == True" readonly="state in ['done']" widget="selection" options="{'no_create_edit':True}"/>
      </field>
      <field name="payment_term_id" position="attributes">
        <attribute name="domain">[('id','in',possible_payment_terms)]</attribute>
        <attribute name="invisible">is_payment_term_id_visible == False</attribute>
        <attribute name="required">is_payment_term_id_visible == True</attribute>
        <attribute name="readonly">state in ['sale','done']</attribute>
      </field>
    </field>
  </record>
</odoo>
