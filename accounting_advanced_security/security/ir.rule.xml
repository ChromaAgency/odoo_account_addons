<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.rule" id="adv_sec_res_partner_groups">
        <field name="name">Filter by groups Res partner</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="domain_force">[
            '|',
                '&amp;', ('group_ids','=',False), ('commercial_partner_id.group_ids', '=', False), 
                '|',
                    '|', ('group_ids', 'in', user.groups_id.ids), ('commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                    ('parent_id.group_ids','in',user.groups_id.ids)
                ]  </field>
    </record>

    <record model="ir.rule" id="adv_sec_account_journal_groups">
        <field name="name">Filter by groups Account journal</field>
        <field name="model_id" ref="account.model_account_journal"/>
        <field name="domain_force">['|',('group_ids','=',False), ('group_ids', 'in', user.groups_id.ids)]</field>
    </record>

    <record model="ir.rule" id="adv_sec_account_move_groups">
        <field name="name">Filter by groups account move</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="domain_force">[
        '|', 
            '|', ('partner_id','=',False),
                '&amp;', ('partner_id.group_ids','=',False), ('partner_id.commercial_partner_id.group_ids', '=', False), 
            '|', 
                '|', ('partner_id.group_ids', 'in', user.groups_id.ids), ('partner_id.commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                ('partner_id.parent_id.group_ids','in',user.groups_id.ids), 
        '|',('journal_id.group_ids','=',False),('journal_id.group_ids', 'in', user.groups_id.ids)
        ]</field>
    </record>

    <record model="ir.rule" id="adv_sec_account_move_line_groups">
        <field name="name">Filter by groups account move line</field>
        <field name="model_id" ref="account.model_account_move_line"/>
        <field name="domain_force">[
        '|',
            '|', ('partner_id','=',False),
                '&amp;', ('partner_id.group_ids','=',False), ('partner_id.commercial_partner_id.group_ids', '=', False), 
            '|', 
                '|', ('partner_id.group_ids', 'in', user.groups_id.ids), ('partner_id.commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                ('partner_id.parent_id.group_ids','in',user.groups_id.ids),
        '|',('journal_id.group_ids','=',False),('journal_id.group_ids', 'in', user.groups_id.ids)
        ]</field>
    </record>

    <record model="ir.rule" id="adv_sec_account_purchase_order">
        <field name="name">Filter by groups Purchase order</field>
        <field name="model_id" ref="purchase.model_purchase_order"/>
        <field name="domain_force">[
            '|',
                '&amp;', ('partner_id.group_ids','=',False), ('partner_id.commercial_partner_id.group_ids', '=', False), 
                '|', 
                    '|', ('partner_id.group_ids', 'in', user.groups_id.ids), ('partner_id.commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                    ('partner_id.parent_id.group_ids','in',user.groups_id.ids),
                ]</field>
    </record>
    <record model="ir.rule" id="adv_sec_supplierinfo_groups">
        <field name="name">Filter by groups supplierinfo</field>
        <field name="model_id" ref="purchase.model_product_supplierinfo"/>
        <field name="domain_force">[
            '|',
                '&amp;', ('partner_id.group_ids','=',False),('partner_id.commercial_partner_id.group_ids', '=', False), 
                '|', 
                    '|', ('partner_id.group_ids', 'in', user.groups_id.ids), ('partner_id.commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                    ('partner_id.parent_id.group_ids','in',user.groups_id.ids),
                ]</field>
    </record>

    <record model="ir.rule" id="adv_sec_account_move_groups_only_hide_moves">
        <field name="name">Filter by groups account move hide moves</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="domain_force">[
        '|', 
            '|', ('partner_id','=',False),
                '&amp;', ('partner_id.group_ids','=',False), ('partner_id.commercial_partner_id.group_ids', '=', False), 
            '|', 
                '|', ('partner_id.group_ids', 'in', user.groups_id.ids), ('partner_id.commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                ('partner_id.parent_id.group_ids','in',user.groups_id.ids), 
        '|',('journal_id.group_ids_only_hide_moves','=',False),('journal_id.group_ids_only_hide_moves', 'in', user.groups_id.ids)
        ]</field>
        <field name="perm_read" eval="0" />
        <field name="perm_write" eval="1" />
        <field name="perm_create" eval="1" />
        <field name="perm_unlink" eval="0" />
    </record>

    <record model="ir.rule" id="adv_sec_account_move_line_groups_only_hide_moves">
        <field name="name">Filter by groups account move line hide moves</field>
        <field name="model_id" ref="account.model_account_move_line"/>
        <field name="domain_force">[
        '|',
            '|', ('partner_id','=',False),
                '&amp;', ('partner_id.group_ids','=',False), ('partner_id.commercial_partner_id.group_ids', '=', False), 
            '|', 
                '|', ('partner_id.group_ids', 'in', user.groups_id.ids), ('partner_id.commercial_partner_id.group_ids', 'in', user.groups_id.ids), 
                ('partner_id.parent_id.group_ids','in',user.groups_id.ids),
        '|',('journal_id.group_ids_only_hide_moves','=',False),('journal_id.group_ids_only_hide_moves', 'in', user.groups_id.ids)
        ]</field>
        <field name="perm_read" eval="0" />
        <field name="perm_write" eval="1" />
        <field name="perm_create" eval="1" />
        <field name="perm_unlink" eval="0" />
    </record>
</odoo>
