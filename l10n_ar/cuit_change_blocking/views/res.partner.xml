<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_partner_latam_form_inherit_cuit_change_blocking" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="l10n_latam_base.view_partner_latam_form" />
        <field name="arch" type="xml">
            <field name="vat" class="oe_inline" position="before">
                <field name="vat_locked" invisible="1" />
            </field>
            <field name="vat" class="oe_inline" position="attributes">
                <attribute name="attrs">{'readonly': ['|', ('parent_id','!=',False),
                    ('vat_locked','=',True)]}</attribute>
            </field>
        </field>
    </record>
    <record id="view_partner_form_inherit_cuit_change_blocking" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">
            <sheet position="before">
                <header>
                    <button type="object" name="action_toggle_vat_lock" string="Desbloquear cuit"
                        groups="base.group_erp_manager"
                        attrs="{'invisible':[('vat_locked','=',True)]}" />
                    <button type="object" name="action_toggle_vat_lock" string="Bloquear cuit"
                        groups="base.group_erp_manager"
                        attrs="{'invisible':[('vat_locked','=',False)]}" />
                </header>
            </sheet>
        </field>
    </record>
</odoo>